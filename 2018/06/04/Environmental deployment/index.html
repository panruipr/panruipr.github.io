<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="工作与生活，代码与书">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        linux初始安装以及jdk，apache，mysql环境安装部署 - ThrowsException的博客 | ThrowsException&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Work And Life,Code And Book </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/head.jpg" />
        </div>
        <div class="name">
            <i>rui Pan</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#linux初始安装以及jdk，apache，mysql环境安装部署"><span class="toc-text">linux初始安装以及jdk，apache，mysql环境安装部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-购买第三方云服务相关准备工作"><span class="toc-text">1.购买第三方云服务相关准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-在centos-7下新建用户名并授权常用命令"><span class="toc-text">2.在centos 7下新建用户名并授权常用命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-设置防火墙"><span class="toc-text">3.设置防火墙</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-安装jdk1-8"><span class="toc-text">4.安装jdk1.8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-配置tomcat"><span class="toc-text">5.配置tomcat</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> Work And Life,Code And Book </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        linux初始安装以及jdk，apache，mysql环境安装部署
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2018-06-04 16:34:29</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#Linux" title="Linux">Linux</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#云服务" title="云服务">云服务</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <h2 id="linux初始安装以及jdk，apache，mysql环境安装部署"><a href="#linux初始安装以及jdk，apache，mysql环境安装部署" class="headerlink" title="linux初始安装以及jdk，apache，mysql环境安装部署"></a>linux初始安装以及jdk，apache，mysql环境安装部署</h2><h3 id="1-购买第三方云服务相关准备工作"><a href="#1-购买第三方云服务相关准备工作" class="headerlink" title="1.购买第三方云服务相关准备工作"></a>1.购买第三方云服务相关准备工作</h3><p>1.购买云服务器之后会自动创建一个实例。这里的选择是CentOS 7.2 64位操作系统的。可以根据自己的需求选择相应的操作系统和应用。<br>2.购买成功后到云主机界面重置主机密码，以方便xshell连接。<br>3.用xshell登录云服务器，创建新用户并分配相应的权限，以供学习用。<br>linux拓展命令：<br>查看用户：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">whoami #查看当前登陆用户的用户名</span><br><span class="line">who am i #表示打开当前伪装端的用户的用户名</span><br><span class="line">who mom likes #登陆人用户的详细信息</span><br><span class="line">who #命令其他常用参数</span><br></pre></td></tr></table></figure>
<ul>
<li>-a  打印能打印的全部</li>
<li>-d  打印死掉的进程</li>
<li>-m  同am i,mom likes</li>
<li>-q  打印当前登录用户数及用户名</li>
<li>-u  打印当前登录用户登录信息</li>
<li>-r  打印运行等级</li>
</ul>
<h3 id="2-在centos-7下新建用户名并授权常用命令"><a href="#2-在centos-7下新建用户名并授权常用命令" class="headerlink" title="2.在centos 7下新建用户名并授权常用命令"></a>2.在centos 7下新建用户名并授权常用命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">useradd 用户名 #新建用户</span><br><span class="line">groupadd 用户名 #新建组</span><br><span class="line">passwd 用户名 #修改用户密码 </span><br><span class="line">userdel -r 用户名 #删除用户以及相关的文件</span><br></pre></td></tr></table></figure>
<h3 id="3-设置防火墙"><a href="#3-设置防火墙" class="headerlink" title="3.设置防火墙"></a>3.设置防火墙</h3><p>因为22端口太容易被扫描到了，对于服务器来说不太安全。那就需要关闭22端口开放新的端口号作为ssh服务的端口<br>相关命令:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld.service  #查看防火墙状态</span><br><span class="line">systemctl status sshd.service #查看ssh状态</span><br><span class="line">systemctl stop/start/restart firewalld.service #关闭，开启，重启防火墙</span><br><span class="line">systemctl stop/start/restart sshd.service #关闭，开启，重启sshd服务</span><br><span class="line">firewalld-cmd --permanent --zone=public --add-port=57482/tcp #添加端口号</span><br><span class="line">firewalld-cmd --permanent --zone=public --remove-port=57482/tcp #删除端口号</span><br><span class="line">firewalld-cmd --list-all #查看端口列表</span><br><span class="line"></span><br><span class="line">cd /etc/ssh/sshd.config #找到 #Port=22 默认端口为22，所以不管注释还是不注释都没用。在下面一行新增Port=57482</span><br><span class="line"><span class="meta">#</span>在centos7 里装辅助工具semanage yum provides semanage 主意装semanage需要安装其依赖工具包 </span><br><span class="line">yum install policycoreutils-python tab #自动补全</span><br><span class="line">semanage port -l | grep ssh #查询当前ssh的端口号 </span><br><span class="line">semanage port -a -t ssh_port_t -p tcp 57482 #查询当前ssh的端口号,之后查看一遍端口是否设置成功 </span><br><span class="line">systemctl restart sshd.service #重启sshd.service服务  </span><br><span class="line">firewalld-cmd --permanent --zone=public --add-port=57482/tcp #在防火墙中新增端口 并重启</span><br></pre></td></tr></table></figure>
<p>注意 如果是第三方服务器可以在安全组中自定义安全规则来阻止来自22端口的访问。</p>
<p>开启防火墙关闭22端口配置只允许57482的端口之后ping不通了。。。,这个时候开放80端口在，在安全组中允许所有端口访问就可以ping通，不知道为什么只允许80端口通过并不能ping通</p>
<h3 id="4-安装jdk1-8"><a href="#4-安装jdk1-8" class="headerlink" title="4.安装jdk1.8"></a>4.安装jdk1.8</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>一般jdk安装在/usr/local目录下。将文件解压到此目录下pwd一下获取路径</span><br><span class="line">wget --no-check-certificate --no-cookies --header "Cookie: oraclelicense=accept-securebackup-cookie" http://download.oracle.com/otn-pub/java/jdk/8u91-b14/jdk-8u91-linux-x64.tar.gz</span><br><span class="line">cd /etc/profile #去文件中末尾配置java_home和jre_home简称环境变量，配置如下</span><br><span class="line">JAVA_HOME=/usr/local/java/jdk1.8.0_171</span><br><span class="line">JRE_HOME=$JAVA_HOME/jre</span><br><span class="line">PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</span><br><span class="line">CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib</span><br><span class="line">export JAVA_HOME JRE_HOME CLASS_PATH PATH</span><br><span class="line">source /etc/profile #启用新的配置</span><br><span class="line">java -version #查看是否安装成功  出现版本信息就代表安装成功。</span><br></pre></td></tr></table></figure>
<h3 id="5-配置tomcat"><a href="#5-配置tomcat" class="headerlink" title="5.配置tomcat"></a>5.配置tomcat</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>下载tomcat7到目标文件</span><br><span class="line">cd tomcat7/bin  #修改catalina,sh添加配置，在此之前保证jdk已经成功安装</span><br><span class="line">JAVA_OPTS="-Xms512m -Xmx1024m -Xss1024K -XX:PermSize=512m -XX:MaxPermSize=1024m"</span><br><span class="line">export TOMCAT_HOME=/home/panrui/tomcat7</span><br><span class="line">export CATALINA_HOME=/home/panrui/tomcat7</span><br><span class="line">export JRE_HOME=/usr/local/java/jdk1.8.0_171/jre</span><br><span class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_171</span><br><span class="line">cd tomcat/conf #修改下的server.xml里的端口保证对外端口已经添加到防火墙中</span><br><span class="line">/start.sh #修改第三方服务器安全组规则将新端口添加到允许访问的规则中 启动服务器</span><br></pre></td></tr></table></figure>

        
        <div id="comment-container">
        </div>
    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        
        <li>
            <a target="_blank" href="https://www.zhihu.com/people/bing-tang-xue-li-30">
                            <span class="fa-stack fa-lg">
                                 <i class="iconfont icon-zhihu"></i>
                            </span>
            </a>
        </li>
        

        
        <li>
            <a target="_blank" href="http://weibo.com/5526948638">
                            <span class="fa-stack fa-lg">
                                  <i class="iconfont icon-weibo"></i>
                            </span>
            </a>
        </li>
        

        

        
        <li>
            <a target="_blank"  href="https://github.com/panruipr">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="https://github.com/zhaodazzle/zdazNote">zzy学习笔记</a></span>
        <span>/</span>
        
        <span><a href="http://www.wuliqy.com">QY博客</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = ""
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</html>
